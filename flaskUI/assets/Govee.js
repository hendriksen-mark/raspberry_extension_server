import{r as o,j as s,F as x,G as g,a as j,n as f}from"./index.js";import{G as b}from"./GenericText.js";import{G}from"./GlassContainer.js";import{P as E}from"./PageContent.js";import{C as y}from"./CardGrid.js";const I=({HOST_IP:m,API_KEY:h,CONFIG:a})=>{const[n,t]=o.useState(!1),[i,r]=o.useState(""),[c,l]=o.useState(!1);o.useEffect(()=>{var e,d;c||(t(((e=a.config.govee)==null?void 0:e.enabled)||!1),r(((d=a.config.govee)==null?void 0:d.api_key)||""))},[a,c]);const u=e=>{t(e),l(!0)},v=e=>{r(e),l(!0)},p=()=>{j.put(`${m}/api/${h}/config`,{govee:{enabled:n,api_key:i}}).then(e=>{f.success("Successfully saved, now scan for lights")}).catch(e=>{console.error(e),f.error(`Error occurred: ${e.message}`)})};return s.jsx("div",{className:"inner",children:s.jsx(y,{options:"main",children:s.jsx(G,{children:s.jsxs(E,{children:[s.jsx("div",{className:"headline",children:"Govee config"}),s.jsxs("form",{className:"add-form",children:[s.jsx(x,{id:"govee",value:n,onChange:e=>u(e),checked:n,label:"Enable",position:"right"}),s.jsx("div",{className:"form-control",children:s.jsx(b,{label:"Govee API key",type:"text",placeholder:"API key",value:i,onChange:e=>v(e)})}),s.jsx("div",{className:"form-control",children:s.jsx(g,{value:"Save",color:"blue",size:"",type:"submit",onClick:()=>p()})})]})]})})})})};export{I as default};
