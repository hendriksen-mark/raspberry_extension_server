import{r as o,j as e,G as P,n,a as b}from"./index.js";import{G as c}from"./GenericText.js";import{G as v}from"./GlassContainer.js";import{P as y}from"./PageContent.js";import{C as S}from"./CardGrid.js";const A=({HOST_IP:d,API_KEY:m,CONFIG:h})=>{const i=Object.keys(h.config.users)[0],[r,u]=o.useState(""),[a,f]=o.useState(""),[p,x]=o.useState(""),[j,l]=o.useState("black"),g=()=>{r!==a?(console.error("Password not the same"),n.error("Password not the same")):r===""?(console.error("Password can not be empty"),n.error("Password can not be empty")):r===a&&b.put(`${d}/api/${m}/config`,{users:{[i]:{password:r}}}).then(s=>{n.success("Successfully saved")}).catch(s=>{console.error(s),n.error(`Error: ${s.message}`)})};function w(s){let t=0;if(!s)return"";switch(s.length>8&&(t+=1),/[a-z]/.test(s)&&(t+=1),/[A-Z]/.test(s)&&(t+=1),/\d/.test(s)&&(t+=1),/[^A-Za-z0-9]/.test(s)&&(t+=1),t){case 0:case 1:case 2:return l("red"),"Weak";case 3:return l("orange"),"Medium";case 4:case 5:return l("green"),"Strong";default:return""}}const C=s=>{u(s),x(w(s))};return e.jsx("div",{className:"inner",children:e.jsx(S,{options:"main",children:e.jsx(v,{children:e.jsxs(y,{children:[e.jsx("div",{className:"headline",children:"Change password"}),e.jsxs("form",{className:"add-form",children:[e.jsx("div",{className:"form-control",children:e.jsx(c,{label:"User Name",readOnly:!0,type:"text",value:i,autoComplete:"username"})}),e.jsx("div",{className:"form-control",children:e.jsx(c,{label:"New Password",type:"password",placeholder:"Enter Password",value:r,onChange:s=>C(s),autoComplete:"new-password"})}),e.jsxs("small",{children:["Password strength:"," ",e.jsx("span",{style:{fontWeight:"bold",color:j},children:p})]}),e.jsx("div",{className:"form-control",children:e.jsx(c,{label:"Confirm Password",type:"password",placeholder:"Repeat Password",value:a,onChange:s=>f(s),autoComplete:"new-password"})}),r!==a&&e.jsx("small",{children:e.jsx("span",{style:{fontWeight:"bold",color:"red"},children:"Passwords don't match"})}),e.jsx("div",{className:"form-control",children:e.jsx(P,{value:"Save",color:"blue",size:"",type:"submit",onClick:()=>g()})})]})]})})})})};export{A as default};
