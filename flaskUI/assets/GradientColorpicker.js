import{r as L,j as O,a as Te}from"./index.js";/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var b,B,ve,Z,ge,M={},te=[],Pe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function C(t,r){for(var n in r)t[n]=r[n];return t}function _e(t){var r=t.parentNode;r&&r.removeChild(t)}function _(t,r,n){var e,i,a,o,s=arguments;if(r=C({},r),arguments.length>3)for(n=[n],e=3;e<arguments.length;e++)n.push(s[e]);if(n!=null&&(r.children=n),t!=null&&t.defaultProps!=null)for(i in t.defaultProps)r[i]===void 0&&(r[i]=t.defaultProps[i]);return o=r.key,(a=r.ref)!=null&&delete r.ref,o!=null&&delete r.key,J(t,r,o,a)}function J(t,r,n,e){var i={type:t,props:r,key:n,ref:e,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return b.vnode&&b.vnode(i),i}function X(t){return t.children}function He(t){if(t==null||typeof t=="boolean")return null;if(typeof t=="string"||typeof t=="number")return J(null,t,null,null);if(t.__e!=null||t.__c!=null){var r=J(t.type,t.props,t.key,null);return r.__e=t.__e,r}return t}function j(t,r){this.props=t,this.context=r}function F(t,r){if(r==null)return t.__p?F(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;r<t.__k.length;r++)if((n=t.__k[r])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?F(t):null}function be(t){var r,n;if((t=t.__p)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if((n=t.__k[r])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return be(t)}}function K(t){(!t.__d&&(t.__d=!0)&&B.push(t)===1||Z!==b.debounceRendering)&&(Z=b.debounceRendering,(b.debounceRendering||ve)(Oe))}function Oe(){var t,r,n,e,i,a,o,s;for(B.sort(function(h,c){return c.__v.__b-h.__v.__b});t=B.pop();)t.__d&&(n=void 0,e=void 0,a=(i=(r=t).__v).__e,o=r.__P,s=r.u,r.u=!1,o&&(n=[],e=ne(o,i,C({},i),r.__n,o.ownerSVGElement!==void 0,null,n,s,a??F(i)),ye(n,i),e!=a&&be(i)))}function me(t,r,n,e,i,a,o,s,h){var c,u,l,f,d,v,g,p=n&&n.__k||te,y=p.length;if(s==M&&(s=a!=null?a[0]:y?F(n,0):null),c=0,r.__k=re(r.__k,function(m){if(m!=null){if(m.__p=r,m.__b=r.__b+1,(l=p[c])===null||l&&m.key==l.key&&m.type===l.type)p[c]=void 0;else for(u=0;u<y;u++){if((l=p[u])&&m.key==l.key&&m.type===l.type){p[u]=void 0;break}l=null}if(f=ne(t,m,l=l||M,e,i,a,o,null,s,h),(u=m.ref)&&l.ref!=u&&(g||(g=[])).push(u,m.__c||f,m),f!=null){if(v==null&&(v=f),m.l!=null)f=m.l,m.l=null;else if(a==l||f!=s||f.parentNode==null){e:if(s==null||s.parentNode!==t)t.appendChild(f);else{for(d=s,u=0;(d=d.nextSibling)&&u<y;u+=2)if(d==f)break e;t.insertBefore(f,s)}r.type=="option"&&(t.value="")}s=f.nextSibling,typeof r.type=="function"&&(r.l=f)}}return c++,m}),r.__e=v,a!=null&&typeof r.type!="function")for(c=a.length;c--;)a[c]!=null&&_e(a[c]);for(c=y;c--;)p[c]!=null&&xe(p[c],p[c]);if(g)for(c=0;c<g.length;c++)pe(g[c],g[++c],g[++c])}function re(t,r,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")r&&n.push(r(null));else if(Array.isArray(t))for(var e=0;e<t.length;e++)re(t[e],r,n);else n.push(r?r(He(t)):t);return n}function De(t,r,n,e,i){var a;for(a in n)a in r||le(t,a,null,n[a],e);for(a in r)i&&typeof r[a]!="function"||a==="value"||a==="checked"||n[a]===r[a]||le(t,a,r[a],n[a],e)}function se(t,r,n){r[0]==="-"?t.setProperty(r,n):t[r]=typeof n=="number"&&Pe.test(r)===!1?n+"px":n??""}function le(t,r,n,e,i){var a,o,s,h,c;if(!((r=i?r==="className"?"class":r:r==="class"?"className":r)==="key"||r==="children"))if(r==="style")if(a=t.style,typeof n=="string")a.cssText=n;else{if(typeof e=="string"&&(a.cssText="",e=null),e)for(o in e)n&&o in n||se(a,o,"");if(n)for(s in n)e&&n[s]===e[s]||se(a,s,n[s])}else r[0]==="o"&&r[1]==="n"?(h=r!==(r=r.replace(/Capture$/,"")),c=r.toLowerCase(),r=(c in t?c:r).slice(2),n?(e||t.addEventListener(r,ce,h),(t.t||(t.t={}))[r]=n):t.removeEventListener(r,ce,h)):r!=="list"&&r!=="tagName"&&r!=="form"&&!i&&r in t?t[r]=n??"":typeof n!="function"&&r!=="dangerouslySetInnerHTML"&&(r!==(r=r.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase(),n):n==null||n===!1?t.removeAttribute(r):t.setAttribute(r,n))}function ce(t){return this.t[t.type](b.event?b.event(t):t)}function ne(t,r,n,e,i,a,o,s,h,c){var u,l,f,d,v,g,p,y,m,R,I=r.type;if(r.constructor!==void 0)return null;(u=b.__b)&&u(r);try{e:if(typeof I=="function"){if(y=r.props,m=(u=I.contextType)&&e[u.__c],R=u?m?m.props.value:u.__p:e,n.__c?p=(l=r.__c=n.__c).__p=l.__E:("prototype"in I&&I.prototype.render?r.__c=l=new I(y,R):(r.__c=l=new j(y,R),l.constructor=I,l.render=je),m&&m.sub(l),l.props=y,l.state||(l.state={}),l.context=R,l.__n=e,f=l.__d=!0,l.__h=[]),l.__s==null&&(l.__s=l.state),I.getDerivedStateFromProps!=null&&C(l.__s==l.state?l.__s=C({},l.__s):l.__s,I.getDerivedStateFromProps(y,l.__s)),f)I.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&o.push(l);else{if(I.getDerivedStateFromProps==null&&s==null&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,R),!s&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,R)===!1){for(l.props=y,l.state=l.__s,l.__d=!1,l.__v=r,r.__e=h!=null?h!==n.__e?h:n.__e:null,r.__k=n.__k,u=0;u<r.__k.length;u++)r.__k[u]&&(r.__k[u].__p=r);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,R)}for(d=l.props,v=l.state,l.context=R,l.props=y,l.state=l.__s,(u=b.__r)&&u(r),l.__d=!1,l.__v=r,l.__P=t,u=l.render(l.props,l.state,l.context),r.__k=re(u!=null&&u.type==X&&u.key==null?u.props.children:u),l.getChildContext!=null&&(e=C(C({},e),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(d,v)),me(t,r,n,e,i,a,o,h,c),l.base=r.__e;u=l.__h.pop();)l.__s&&(l.state=l.__s),u.call(l);f||d==null||l.componentDidUpdate==null||l.componentDidUpdate(d,v,g),p&&(l.__E=l.__p=null)}else r.__e=$e(n.__e,r,n,e,i,a,o,c);(u=b.diffed)&&u(r)}catch(Ne){b.__e(Ne,r,n)}return r.__e}function ye(t,r){for(var n;n=t.pop();)try{n.componentDidMount()}catch(e){b.__e(e,n.__v)}b.__c&&b.__c(r)}function $e(t,r,n,e,i,a,o,s){var h,c,u,l,f=n.props,d=r.props;if(i=r.type==="svg"||i,t==null&&a!=null){for(h=0;h<a.length;h++)if((c=a[h])!=null&&(r.type===null?c.nodeType===3:c.localName===r.type)){t=c,a[h]=null;break}}if(t==null){if(r.type===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",r.type):document.createElement(r.type),a=null}return r.type===null?f!==d&&(a!=null&&(a[a.indexOf(t)]=null),t.data=d):r!==n&&(a!=null&&(a=te.slice.call(t.childNodes)),u=(f=n.props||M).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,s||(l||u)&&(l&&u&&l.__html==u.__html||(t.innerHTML=l&&l.__html||"")),De(t,d,f,i,s),r.__k=r.props.children,l||me(t,r,n,e,r.type!=="foreignObject"&&i,a,o,M,s),s||("value"in d&&d.value!==void 0&&d.value!==t.value&&(t.value=d.value==null?"":d.value),"checked"in d&&d.checked!==void 0&&d.checked!==t.checked&&(t.checked=d.checked))),t}function pe(t,r,n){try{typeof t=="function"?t(r):t.current=r}catch(e){b.__e(e,n)}}function xe(t,r,n){var e,i,a;if(b.unmount&&b.unmount(t),(e=t.ref)&&pe(e,null,r),n||typeof t.type=="function"||(n=(i=t.__e)!=null),t.__e=t.l=null,(e=t.__c)!=null){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(o){b.__e(o,r)}e.base=e.__P=null}if(e=t.__k)for(a=0;a<e.length;a++)e[a]&&xe(e[a],r,n);i!=null&&_e(i)}function je(t,r,n){return this.constructor(t,n)}function We(t,r,n){var e,i,a;b.__p&&b.__p(t,r),i=(e=n===ge)?null:r.__k,t=_(X,null,[t]),a=[],ne(r,r.__k=t,i||M,M,r.ownerSVGElement!==void 0,i?null:te.slice.call(r.childNodes),a,!1,M,e),ye(a,t)}b={},j.prototype.setState=function(t,r){var n=this.__s!==this.state&&this.__s||(this.__s=C({},this.state));(typeof t!="function"||(t=t(n,this.props)))&&C(n,t),t!=null&&this.__v&&(this.u=!1,r&&this.__h.push(r),K(this))},j.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,K(this))},j.prototype.render=X,B=[],ve=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Z=b.debounceRendering,b.__e=function(t,r,n){for(var e;r=r.__p;)if((e=r.__c)&&!e.__p)try{if(e.constructor&&e.constructor.getDerivedStateFromError!=null)e.setState(e.constructor.getDerivedStateFromError(t));else{if(e.componentDidCatch==null)continue;e.componentDidCatch(t)}return K(e.__E=e)}catch(i){t=i}throw t},ge=M;function Le(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ue(t,r,n){return r&&Le(t.prototype,r),t}function E(){return E=Object.assign||function(t){for(var r=arguments,n=1;n<arguments.length;n++){var e=r[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},E.apply(this,arguments)}var Be="[-\\+]?\\d+%?",Fe="[-\\+]?\\d*\\.\\d+%?",N="(?:"+Fe+")|(?:"+Be+")",we="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",ke="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",Ge=new RegExp("rgb"+we),Xe=new RegExp("rgba"+ke),ze=new RegExp("hsl"+we),Ve=new RegExp("hsla"+ke),z="^(?:#?|0x?)",T="([0-9a-fA-F]{1})",P="([0-9a-fA-F]{2})",qe=new RegExp(z+T+T+T+"$"),Ke=new RegExp(z+T+T+T+T+"$"),Ye=new RegExp(z+P+P+P+"$"),Ze=new RegExp(z+P+P+P+P+"$"),Je=2e3,Qe=4e4,U=Math.log,D=Math.round,W=Math.floor;function S(t,r,n){return Math.min(Math.max(t,r),n)}function w(t,r){var n=t.indexOf("%")>-1,e=parseFloat(t);return n?r/100*e:e}function k(t){return parseInt(t,16)}function A(t){return t.toString(16).padStart(2,"0")}var $=function(){function t(n,e){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=e,this.initialValue=E({},this.$)}var r=t.prototype;return r.set=function(e){if(typeof e=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(e)?this.hexString=e:/^rgba?/.test(e)?this.rgbString=e:/^hsla?/.test(e)&&(this.hslString=e);else if(typeof e=="object")e instanceof t?this.hsva=e.hsva:"r"in e&&"g"in e&&"b"in e?this.rgb=e:"h"in e&&"s"in e&&"v"in e?this.hsv=e:"h"in e&&"s"in e&&"l"in e?this.hsl=e:"kelvin"in e&&(this.kelvin=e.kelvin);else throw new Error("Invalid color value")},r.setChannel=function(e,i,a){var o;this[e]=E({},this[e],(o={},o[i]=a,o))},r.reset=function(){this.hsva=this.initialValue},r.clone=function(){return new t(this)},r.unbind=function(){this.onChange=void 0},t.hsvToRgb=function(e){var i=e.h/60,a=e.s/100,o=e.v/100,s=W(i),h=i-s,c=o*(1-a),u=o*(1-h*a),l=o*(1-(1-h)*a),f=s%6,d=[o,u,c,c,l,o][f],v=[l,o,o,u,c,c][f],g=[c,c,l,o,o,u][f];return{r:S(d*255,0,255),g:S(v*255,0,255),b:S(g*255,0,255)}},t.rgbToHsv=function(e){var i=e.r/255,a=e.g/255,o=e.b/255,s=Math.max(i,a,o),h=Math.min(i,a,o),c=s-h,u=0,l=s,f=s===0?0:c/s;switch(s){case h:u=0;break;case i:u=(a-o)/c+(a<o?6:0);break;case a:u=(o-i)/c+2;break;case o:u=(i-a)/c+4;break}return{h:u*60%360,s:S(f*100,0,100),v:S(l*100,0,100)}},t.hsvToHsl=function(e){var i=e.s/100,a=e.v/100,o=(2-i)*a,s=o<=1?o:2-o,h=s<1e-9?0:i*a/s;return{h:e.h,s:S(h*100,0,100),l:S(o*50,0,100)}},t.hslToHsv=function(e){var i=e.l*2,a=e.s*(i<=100?i:200-i)/100,o=i+a<1e-9?0:2*a/(i+a);return{h:e.h,s:S(o*100,0,100),v:S((i+a)/2,0,100)}},t.kelvinToRgb=function(e){var i=e/100,a,o,s;return i<66?(a=255,o=-155.25485562709179-.44596950469579133*(o=i-2)+104.49216199393888*U(o),s=i<20?0:-254.76935184120902+.8274096064007395*(s=i-10)+115.67994401066147*U(s)):(a=351.97690566805693+.114206453784165*(a=i-55)-40.25366309332127*U(a),o=325.4494125711974+.07943456536662342*(o=i-50)-28.0852963507957*U(o),s=255),{r:S(W(a),0,255),g:S(W(o),0,255),b:S(W(s),0,255)}},t.rgbToKelvin=function(e){for(var i=e.r,a=e.b,o=.4,s=Je,h=Qe,c;h-s>o;){c=(h+s)*.5;var u=t.kelvinToRgb(c);u.b/u.r>=a/i?h=c:s=c}return c},Ue(t,[{key:"hsv",get:function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},set:function(e){var i=this.$;if(e=E({},i,e),this.onChange){var a={h:!1,v:!1,s:!1,a:!1};for(var o in i)a[o]=e[o]!=i[o];this.$=e,(a.h||a.s||a.v||a.a)&&this.onChange(this,a)}else this.$=e}},{key:"hsva",get:function(){return E({},this.$)},set:function(e){this.hsv=e}},{key:"hue",get:function(){return this.$.h},set:function(e){this.hsv={h:e}}},{key:"saturation",get:function(){return this.$.s},set:function(e){this.hsv={s:e}}},{key:"value",get:function(){return this.$.v},set:function(e){this.hsv={v:e}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=E({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return t.rgbToKelvin(this.rgb)},set:function(e){this.rgb=t.kelvinToRgb(e)}},{key:"red",get:function(){var e=this.rgb;return e.r},set:function(e){this.rgb=E({},this.rgb,{r:e})}},{key:"green",get:function(){var e=this.rgb;return e.g},set:function(e){this.rgb=E({},this.rgb,{g:e})}},{key:"blue",get:function(){var e=this.rgb;return e.b},set:function(e){this.rgb=E({},this.rgb,{b:e})}},{key:"rgb",get:function(){var e=t.hsvToRgb(this.$),i=e.r,a=e.g,o=e.b;return{r:D(i),g:D(a),b:D(o)}},set:function(e){this.hsv=E({},t.rgbToHsv(e),{a:e.a===void 0?1:e.a})}},{key:"rgba",get:function(){return E({},this.rgb,{a:this.alpha})},set:function(e){this.rgb=e}},{key:"hsl",get:function(){var e=t.hsvToHsl(this.$),i=e.h,a=e.s,o=e.l;return{h:D(i),s:D(a),l:D(o)}},set:function(e){this.hsv=E({},t.hslToHsv(e),{a:e.a===void 0?1:e.a})}},{key:"hsla",get:function(){return E({},this.hsl,{a:this.alpha})},set:function(e){this.hsl=e}},{key:"rgbString",get:function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},set:function(e){var i,a,o,s,h=1;if((i=Ge.exec(e))?(a=w(i[1],255),o=w(i[2],255),s=w(i[3],255)):(i=Xe.exec(e))&&(a=w(i[1],255),o=w(i[2],255),s=w(i[3],255),h=w(i[4],1)),i)this.rgb={r:a,g:o,b:s,a:h};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},set:function(e){this.rgbString=e}},{key:"hexString",get:function(){var e=this.rgb;return"#"+A(e.r)+A(e.g)+A(e.b)},set:function(e){var i,a,o,s,h=255;if((i=qe.exec(e))?(a=k(i[1])*17,o=k(i[2])*17,s=k(i[3])*17):(i=Ke.exec(e))?(a=k(i[1])*17,o=k(i[2])*17,s=k(i[3])*17,h=k(i[4])*17):(i=Ye.exec(e))?(a=k(i[1]),o=k(i[2]),s=k(i[3])):(i=Ze.exec(e))&&(a=k(i[1]),o=k(i[2]),s=k(i[3]),h=k(i[4])),i)this.rgb={r:a,g:o,b:s,a:h/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var e=this.rgba;return"#"+A(e.r)+A(e.g)+A(e.b)+A(W(e.a*255))},set:function(e){this.hexString=e}},{key:"hslString",get:function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},set:function(e){var i,a,o,s,h=1;if((i=ze.exec(e))?(a=w(i[1],360),o=w(i[2],100),s=w(i[3],100)):(i=Ve.exec(e))&&(a=w(i[1],360),o=w(i[2],100),s=w(i[3],100),h=w(i[4],1)),i)this.hsl={h:a,s:o,l:s,a:h};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var e=this.hsla;return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},set:function(e){this.hslString=e}}]),t}(),et={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function ie(t){var r,n=t.width,e=t.sliderSize,i=t.borderWidth,a=t.handleRadius,o=t.padding,s=t.sliderShape,h=t.layoutDirection==="horizontal";return e=(r=e)!=null?r:o*2+a*2,s==="circle"?{handleStart:t.padding+t.handleRadius,handleRange:n-o*2-a*2,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-i/2}:{handleStart:e/2,handleRange:n-e,radius:e/2,x:0,y:0,width:h?e:n,height:h?n:e}}function tt(t,r){var n=r.hsva,e=r.rgb;switch(t.sliderType){case"red":return e.r/2.55;case"green":return e.g/2.55;case"blue":return e.b/2.55;case"alpha":return n.a*100;case"kelvin":var i=t.minTemperature,a=t.maxTemperature,o=a-i,s=(r.kelvin-i)/o*100;return Math.max(0,Math.min(s,100));case"hue":return n.h/=3.6;case"saturation":return n.s;case"value":default:return n.v}}function rt(t,r,n){var e=ie(t),i=e.handleRange,a=e.handleStart,o;t.layoutDirection==="horizontal"?o=-1*n+i+a:o=r-a,o=Math.max(Math.min(o,i),0);var s=Math.round(100/i*o);switch(t.sliderType){case"kelvin":var h=t.minTemperature,c=t.maxTemperature,u=c-h;return h+u*(s/100);case"alpha":return s/100;case"hue":return s*3.6;case"red":case"blue":case"green":return s*2.55;default:return s}}function nt(t,r){var n=ie(t),e=n.width,i=n.height,a=n.handleRange,o=n.handleStart,s=t.layoutDirection==="horizontal",h=tt(t,r),c=s?e/2:i/2,u=o+h/100*a;return s&&(u=-1*u+a+o*2),{x:s?c:u,y:s?u:c}}function it(t,r){var n=r.hsv,e=r.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+e.g+","+e.b+")"],[100,"rgb(255,"+e.g+","+e.b+")"]];case"green":return[[0,"rgb("+e.r+",0,"+e.b+")"],[100,"rgb("+e.r+",255,"+e.b+")"]];case"blue":return[[0,"rgb("+e.r+","+e.g+",0)"],[100,"rgb("+e.r+","+e.g+",255)"]];case"alpha":return[[0,"rgba("+e.r+","+e.g+","+e.b+",0)"],[100,"rgb("+e.r+","+e.g+","+e.b+")"]];case"kelvin":for(var i=[],a=t.minTemperature,o=t.maxTemperature,s=8,h=o-a,c=a,u=0;c<o;c+=h/s,u+=1){var l=$.kelvinToRgb(c),f=l.r,d=l.g,v=l.b;i.push([100/s*u,"rgb("+f+","+d+","+v+")"])}return i;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var g=$.hsvToHsl({h:n.h,s:0,v:n.v}),p=$.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"],[100,"hsl("+p.h+","+p.s+"%,"+p.l+"%)"]];case"value":default:var y=$.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+y.h+","+y.s+"%,"+y.l+"%)"]]}}var Ee=Math.PI*2,at=function(r,n){return(r%n+n)%n},Se=function(r,n){return Math.sqrt(r*r+n*n)};function Ie(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function ot(t,r,n){var e=V(t),i=e.cx,a=e.cy,o=t.width/2;return Se(i-r,a-n)<o}function V(t){var r=t.width/2;return{width:t.width,radius:r-t.borderWidth,cx:r,cy:r}}function Re(t,r,n){var e=t.wheelAngle,i=t.wheelDirection;return n&&i==="clockwise"?r=e+r:i==="clockwise"?r=360-e+r:n&&i==="anticlockwise"?r=e+180-r:i==="anticlockwise"&&(r=e-r),at(r,360)}function st(t,r){var n=r.hsv,e=V(t),i=e.cx,a=e.cy,o=Ie(t),s=(180+Re(t,n.h,!0))*(Ee/360),h=n.s/100*o,c=t.wheelDirection==="clockwise"?-1:1;return{x:i+h*Math.cos(s)*c,y:a+h*Math.sin(s)*c}}function he(t,r,n){var e=V(t),i=e.cx,a=e.cy,o=Ie(t);r=i-r,n=a-n;var s=Re(t,Math.atan2(-n,-r)*(360/Ee)),h=Math.min(Se(r,n),o);return{h:Math.round(s),s:Math.round(100/o*h)}}function ae(t){var r=t.width,n=t.boxHeight,e=t.padding,i=t.handleRadius;return{width:r,height:n??r,radius:e+i}}function ue(t,r,n){var e=ae(t),i=e.width,a=e.height,o=e.radius,s=o,h=i-o*2,c=a-o*2,u=(r-s)/h*100,l=(n-s)/c*100;return{s:Math.max(0,Math.min(u,100)),v:Math.max(0,Math.min(100-l,100))}}function lt(t,r){var n=ae(t),e=n.width,i=n.height,a=n.radius,o=r.hsv,s=a,h=e-a*2,c=i-a*2;return{x:s+o.s/100*h,y:s+(c-o.v/100*c)}}function ct(t,r){var n=r.hue;return[[[0,"#fff"],[100,"hsl("+n+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var Y;function ht(t){Y||(Y=document.getElementsByTagName("base"));var r=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(r),e=/iPhone|iPod|iPad/i.test(r),i=window.location;return(n||e)&&Y.length>0?i.protocol+"//"+i.host+i.pathname+i.search+t:t}function Ce(t,r,n,e){for(var i=0;i<e.length;i++){var a=e[i].x-r,o=e[i].y-n,s=Math.sqrt(a*a+o*o);if(s<t.handleRadius)return i}return null}function oe(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function Q(t,r,n){return t+"-gradient("+r+", "+n.map(function(e){var i=e[0],a=e[1];return a+" "+i+"%"}).join(",")+")"}function x(t){return typeof t=="string"?t:t+"px"}var ut={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},de=["mousemove","touchmove","mouseup","touchend"],q=function(t){function r(n){t.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.render=function(e){var i=this.handleEvent.bind(this),a={onMouseDown:i,ontouchstart:i},o=e.layoutDirection==="horizontal",s=e.margin===null?e.sliderMargin:e.margin,h={overflow:"visible",display:o?"inline-block":"block"};return e.index>0&&(h[o?"marginLeft":"marginTop"]=s),_(X,null,e.children(this.uid,a,h))},r.prototype.handleEvent=function(e){var i=this,a=this.props.onInput,o=this.base.getBoundingClientRect();e.preventDefault();var s=e.touches?e.changedTouches[0]:e,h=s.clientX-o.left,c=s.clientY-o.top;switch(e.type){case"mousedown":case"touchstart":var u=a(h,c,0);u!==!1&&de.forEach(function(l){document.addEventListener(l,i,{passive:!1})});break;case"mousemove":case"touchmove":a(h,c,1);break;case"mouseup":case"touchend":a(h,c,2),de.forEach(function(l){document.removeEventListener(l,i,{passive:!1})});break}},r}(j);function H(t){var r=t.r,n=t.url,e=r,i=r;return _("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+x(t.x)+", "+x(t.y)+")",willChange:"transform",top:x(-r),left:x(-r),width:x(r*2),height:x(r*2),position:"absolute",overflow:"visible"}},n&&_("use",Object.assign({xlinkHref:ht(n)},t.props)),!n&&_("circle",{cx:e,cy:i,r,fill:"none","stroke-width":2,stroke:"#000"}),!n&&_("circle",{cx:e,cy:i,r:r-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}H.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function G(t){var r=t.activeIndex,n=r!==void 0&&r<t.colors.length?t.colors[r]:t.color,e=ie(t),i=e.width,a=e.height,o=e.radius,s=nt(t,n),h=it(t,n);function c(u,l,f){var d=rt(t,u,l);t.parent.inputActive=!0,n[t.sliderType]=d,t.onInput(f,t.id)}return _(q,Object.assign({},t,{onInput:c}),function(u,l,f){return _("div",Object.assign({},l,{className:"IroSlider",style:Object.assign({},{position:"relative",width:x(i),height:x(a),borderRadius:x(o),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},f)}),_("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:x(o),background:Q("linear",t.layoutDirection==="horizontal"?"to top":"to right",h)},oe(t))}),_(H,{isActive:!0,index:n.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:s.x,y:s.y}))})}G.defaultProps=Object.assign({},et);function dt(t){var r=ae(t),n=r.width,e=r.height,i=r.radius,a=t.colors,o=t.parent,s=t.activeIndex,h=s!==void 0&&s<t.colors.length?t.colors[s]:t.color,c=ct(t,h),u=a.map(function(f){return lt(t,f)});function l(f,d,v){if(v===0){var g=Ce(t,f,d,u);g!==null?o.setActiveColor(g):(o.inputActive=!0,h.hsv=ue(t,f,d),t.onInput(v,t.id))}else v===1&&(o.inputActive=!0,h.hsv=ue(t,f,d));t.onInput(v,t.id)}return _(q,Object.assign({},t,{onInput:l}),function(f,d,v){return _("div",Object.assign({},d,{className:"IroBox",style:Object.assign({},{width:x(n),height:x(e),position:"relative"},v)}),_("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:x(i)},oe(t),{background:Q("linear","to bottom",c[1])+","+Q("linear","to right",c[0])})}),a.filter(function(g){return g!==h}).map(function(g){return _(H,{isActive:!1,index:g.index,fill:g.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[g.index].x,y:u[g.index].y})}),_(H,{isActive:!0,index:h.index,fill:h.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:u[h.index].x,y:u[h.index].y}))})}var ft="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",vt="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function Me(t){var r=V(t),n=r.width,e=t.colors;t.borderWidth;var i=t.parent,a=t.color,o=a.hsv,s=e.map(function(u){return st(t,u)}),h={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function c(u,l,f){if(f===0){if(!ot(t,u,l))return!1;var d=Ce(t,u,l,s);d!==null?i.setActiveColor(d):(i.inputActive=!0,a.hsv=he(t,u,l),t.onInput(f,t.id))}else f===1&&(i.inputActive=!0,a.hsv=he(t,u,l));t.onInput(f,t.id)}return _(q,Object.assign({},t,{onInput:c}),function(u,l,f){return _("div",Object.assign({},l,{className:"IroWheel",style:Object.assign({},{width:x(n),height:x(n),position:"relative"},f)}),_("div",{className:"IroWheelHue",style:Object.assign({},h,{transform:"rotateZ("+(t.wheelAngle+90)+"deg)",background:t.wheelDirection==="clockwise"?ft:vt})}),_("div",{className:"IroWheelSaturation",style:Object.assign({},h,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),t.wheelLightness&&_("div",{className:"IroWheelLightness",style:Object.assign({},h,{background:"#000",opacity:1-o.v/100})}),_("div",{className:"IroWheelBorder",style:Object.assign({},h,oe(t))}),e.filter(function(d){return d!==a}).map(function(d){return _(H,{isActive:!1,index:d.index,fill:d.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:s[d.index].x,y:s[d.index].y})}),_(H,{isActive:!0,index:a.index,fill:a.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:s[a.index].x,y:s[a.index].y}))})}function gt(t){var r=function(n,e){var i,a=document.createElement("div");We(_(t,Object.assign({},{ref:function(s){return i=s}},e)),a);function o(){var s=n instanceof Element?n:document.querySelector(n);s.appendChild(i.base),i.onMount(s)}return document.readyState!=="loading"?o():document.addEventListener("DOMContentLoaded",o),i};return r.prototype=t.prototype,Object.assign(r,t),r.__component=t,r}var Ae=function(t){function r(n){var e=this;t.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id;var i=n.colors.length>0?n.colors:[n.color];i.forEach(function(a){return e.addColor(a)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.addColor=function(e,i){i===void 0&&(i=this.colors.length);var a=new $(e,this.onColorChange.bind(this));this.colors.splice(i,0,a),this.colors.forEach(function(o,s){return o.index=s}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",a)},r.prototype.removeColor=function(e){var i=this.colors.splice(e,1)[0];i.unbind(),this.colors.forEach(function(a,o){return a.index=o}),this.state&&this.setState({colors:this.colors}),i.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",i)},r.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},r.prototype.setColors=function(e,i){var a=this;i===void 0&&(i=0),this.colors.forEach(function(o){return o.unbind()}),this.colors=[],e.forEach(function(o){return a.addColor(o)}),this.setActiveColor(i),this.emit("color:setAll",this.colors)},r.prototype.on=function(e,i){var a=this,o=this.events;(Array.isArray(e)?e:[e]).forEach(function(s){(o[s]||(o[s]=[])).push(i),a.deferredEvents[s]&&(a.deferredEvents[s].forEach(function(h){i.apply(null,h)}),a.deferredEvents[s]=[])})},r.prototype.off=function(e,i){var a=this;(Array.isArray(e)?e:[e]).forEach(function(o){var s=a.events[o];s&&s.splice(s.indexOf(i),1)})},r.prototype.emit=function(e){for(var i=this,a=[],o=arguments.length-1;o-- >0;)a[o]=arguments[o+1];var s=this.activeEvents,h=s.hasOwnProperty(e)?s[e]:!1;if(!h){s[e]=!0;var c=this.events[e]||[];c.forEach(function(u){return u.apply(i,a)}),s[e]=!1}},r.prototype.deferredEmit=function(e){for(var i,a=[],o=arguments.length-1;o-- >0;)a[o]=arguments[o+1];var s=this.deferredEvents;(i=this).emit.apply(i,[e].concat(a)),(s[e]||(s[e]=[])).push(a)},r.prototype.setOptions=function(e){this.setState(e)},r.prototype.resize=function(e){this.setOptions({width:e})},r.prototype.reset=function(){this.colors.forEach(function(e){return e.reset()}),this.setState({colors:this.colors})},r.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},r.prototype.onColorChange=function(e,i){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,i)),this.emit("color:change",e,i)},r.prototype.emitInputEvent=function(e,i){e===0?this.emit("input:start",this.color,i):e===1?this.emit("input:move",this.color,i):e===2&&this.emit("input:end",this.color,i)},r.prototype.render=function(e,i){var a=this,o=i.layout;if(!Array.isArray(o)){switch(o){default:o=[{component:Me},{component:G}]}i.transparency&&o.push({component:G,options:{sliderType:"alpha"}})}return _("div",{class:"IroColorPicker",id:i.id,style:{display:i.display}},o.map(function(s,h){var c=s.component,u=s.options;return _(c,Object.assign({},i,u,{ref:void 0,onInput:a.emitInputEvent.bind(a),parent:a,index:h}))}))},r}(j);Ae.defaultProps=Object.assign({},ut,{colors:[],display:"block",id:null,layout:"default",margin:null});var _t=gt(Ae),ee;(function(t){t.version="5.5.2",t.Color=$,t.ColorPicker=_t,function(r){r.h=_,r.ComponentBase=q,r.Handle=H,r.Slider=G,r.Wheel=Me,r.Box=dt}(t.ui||(t.ui={}))})(ee||(ee={}));var fe=ee;function yt(t,r,n){var e=1-t-r,i=(n/254).toFixed(2),a=i/r*t,o=i/r*e,s=a*1.656492-i*.354851-o*.255038,h=-a*.707196+i*1.655397+o*.036152,c=a*.051713-i*.121364+o*1.01153;return s>c&&s>h&&s>1?(h=h/s,c=c/s,s=1):h>c&&h>s&&h>1?(s=s/h,c=c/h,h=1):c>s&&c>h&&c>1&&(s=s/c,h=h/c,c=1),s=s<=.0031308?12.92*s:(1+.055)*Math.pow(s,1/2.4)-.055,h=h<=.0031308?12.92*h:(1+.055)*Math.pow(h,1/2.4)-.055,c=c<=.0031308?12.92*c:(1+.055)*Math.pow(c,1/2.4)-.055,s=Math.round(s*255),h=Math.round(h*255),c=Math.round(c*255),isNaN(s)&&(s=0),isNaN(h)&&(h=0),isNaN(c)&&(c=0),"rgba("+Math.floor(s)+","+Math.floor(h)+","+Math.floor(c)+",1)"}function pt(t){var r=2e4/t,n,e,i;return r<=66?(n=255,e=99.4708025861*Math.log(r)-161.1195681661,i=r<=19?0:138.5177312231*Math.log(r-10)-305.0447927307):(n=329.698727446*Math.pow(r-60,-.1332047592),e=288.1221695283*Math.pow(r-60,-.0755148492),i=255),n=n>255?255:n,e=e>255?255:e,i=i>255?255:i,"rgba("+Math.floor(n)+","+Math.floor(e)+","+Math.floor(i)+",1)"}function bt(t,r,n){t=t>.04045?Math.pow((t+.055)/(1+.055),2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/(1+.055),2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/(1+.055),2.4):n/12.92;var e=t*.664511+r*.154324+n*.162028,i=t*.283881+r*.668433+n*.047685,a=t*88e-6+r*.07231+n*.986039,o=(e/(e+i+a)).toFixed(4),s=(i/(e+i+a)).toFixed(4);return isNaN(o)&&(o=0),isNaN(s)&&(s=0),[parseFloat(o),parseFloat(s)]}function xt({HOST_IP:t,API_KEY:r,light:n}){const e=L.useRef(null),i=L.useRef(null),[a,o]=L.useState({background:"linear-gradient(to right, #f00, #0f0, #00f)"});return L.useEffect(()=>{if(!n){e.current.innerHTML="";return}const s=(c,u,l)=>`#${c.slice(1).match(/.{2}/g).map((d,v)=>Math.round(parseInt(d,16)+l*(parseInt(u.slice(1).match(/.{2}/g)[v],16)-parseInt(d,16)))).map(d=>d.toString(16).padStart(2,"0")).join("")}`,h=()=>{const c=i.current.colors.map(v=>v.hexString),u=[c[0],s(c[0],c[1],.5),c[1],s(c[1],c[2],.5),c[2]],l=i.current.color.hexString;i.current.colors.findIndex(v=>v.hexString===l);const d=u.map(v=>{const g=parseInt(v.slice(1),16);return{r:g>>16&255,g:g>>8&255,b:g&255}}).map(v=>bt(v.r,v.g,v.b));Te.put(`${t}/api/${r}/lights/${n}/state`,{gradient:{points:d.map(v=>({color:{xy:{x:v[0],y:v[1]}}}))}}),o({background:`linear-gradient(to right, ${u.join(", ")})`})};e.current&&(i.current&&(i.current.off("input:end",h),i.current=null,e.current.innerHTML=""),i.current=new fe.ColorPicker(e.current,{layout:[{component:fe.ui.Wheel,options:{}}],colors:["#f00","#0f0","#00f"]}),i.current.on("input:end",h,{passive:!0}))},[t,r,n]),n?O.jsxs("div",{children:[O.jsx("div",{ref:e}),O.jsx("div",{className:"gradientDisplay",style:{...a}})]}):O.jsxs("div",{children:[O.jsx("div",{ref:e}),O.jsx("div",{className:"empty"})]})}export{xt as G,pt as a,yt as c,fe as i,bt as r};
