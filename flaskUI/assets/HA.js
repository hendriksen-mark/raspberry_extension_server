import{r as a,j as e,F as c,G as K,a as L,n as C}from"./index.js";import{G as r}from"./GenericText.js";import{G as Q}from"./GlassContainer.js";import{P as V}from"./PageContent.js";import{C as W}from"./CardGrid.js";const N=({HOST_IP:U,API_KEY:$,CONFIG:t})=>{var b,j,v,S,k,y;const[o,h]=a.useState(((b=t.config.homeassistant)==null?void 0:b.enabled)||!1),[m,d]=a.useState(((j=t.config.homeassistant)==null?void 0:j.homeAssistantIp)||"192.168.x.x"),[f,u]=a.useState(((v=t.config.homeassistant)==null?void 0:v.homeAssistantPort)||8123),[p,g]=a.useState(((S=t.config.homeassistant)==null?void 0:S.homeAssistantToken)||""),[i,A]=a.useState(((k=t.config.homeassistant)==null?void 0:k.homeAssistantIncludeByDefault)||!1),[l,x]=a.useState(((y=t.config.homeassistant)==null?void 0:y.homeAssistantUseHttps)||!1),[H,n]=a.useState(!1);a.useEffect(()=>{var s,P,T,E,B,D;H||(h(((s=t.config.homeassistant)==null?void 0:s.enabled)||!1),d(((P=t.config.homeassistant)==null?void 0:P.homeAssistantIp)||"192.168.x.x"),u(((T=t.config.homeassistant)==null?void 0:T.homeAssistantPort)||8123),g(((E=t.config.homeassistant)==null?void 0:E.homeAssistantToken)||""),A(((B=t.config.homeassistant)==null?void 0:B.homeAssistantIncludeByDefault)||!1),x(((D=t.config.homeassistant)==null?void 0:D.homeAssistantUseHttps)||!1))},[t,H]);const w=s=>{h(s),n(!0)},I=s=>{d(s),n(!0)},M=s=>{u(s),n(!0)},z=s=>{g(s),n(!0)},R=s=>{A(s),n(!0)},q=s=>{x(s),n(!0)},J=()=>{L.put(`${U}/api/${$}/config`,{homeassistant:{enabled:o,homeAssistantIp:m,homeAssistantPort:f,homeAssistantToken:p,homeAssistantIncludeByDefault:i,homeAssistantUseHttps:l}}).then(s=>{C.success("Successfully saved, please restart the service")}).catch(s=>{console.error(s),C.error(`Error occurred: ${s.message}`)})};return e.jsx("div",{className:"inner",children:e.jsx(W,{options:"main",children:e.jsx(Q,{children:e.jsxs(V,{children:[e.jsx("div",{className:"headline",children:"Home Assistant config"}),e.jsxs("form",{className:"add-form",children:[e.jsx(c,{id:"ha",value:o,onChange:s=>w(s),checked:o,label:"Enable",position:"right"}),e.jsx("div",{className:"form-control",children:e.jsx(r,{label:"Home Assistant IP",type:"text",placeholder:"IP or hostname",value:m,onChange:s=>I(s)})}),e.jsx("div",{className:"form-control",children:e.jsx(r,{label:"Home Assistant port",type:"number",placeholder:"8123",value:f,onChange:s=>M(s)})}),e.jsx("div",{className:"form-control",children:e.jsx(r,{label:"Home Assistant token",type:"password",placeholder:"Token",value:p,onChange:s=>z(s)})}),e.jsx(c,{value:i,onChange:s=>R(s),checked:i,label:"Included by default",position:"right"}),e.jsx(c,{value:l,onChange:s=>q(s),checked:l,label:"Enable HTTPS",position:"right"}),e.jsx("div",{className:"form-control",children:e.jsx(K,{value:"Save",color:"blue",size:"",type:"submit",onClick:()=>J()})})]})]})})})})};export{N as default};
